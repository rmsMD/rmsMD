<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create plots for RCS variables from an rms model — ggrmsMD • rmsMD</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create plots for RCS variables from an rms model — ggrmsMD"><meta name="description" content="The ggrmsMD function processes the output from models fitted using the rms package and produces one or more ggplot2 objects visualising restricted cubic splines (RCS).
The function detects RCS terms in the model and plots them all, with a suitable y-axis selected based on the model type. This outputs a list of plots, or a multi-panel figure using the combined argument.
As outputs are ggplot objects they can easily be further customised by the user."><meta property="og:description" content="The ggrmsMD function processes the output from models fitted using the rms package and produces one or more ggplot2 objects visualising restricted cubic splines (RCS).
The function detects RCS terms in the model and plots them all, with a suitable y-axis selected based on the model type. This outputs a list of plots, or a multi-panel figure using the combined argument.
As outputs are ggplot objects they can easily be further customised by the user."><meta property="og:image" content="https://rmsmd.github.io/rmsMD/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rmsMD</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Standard_workflow_with_restricted_cubic_splines.html">Standard workflow with restricted cubic splines</a></li>
    <li><a class="dropdown-item" href="../articles/Further_details_modelsummary_rms.html">Further details: modelsummary_rms</a></li>
    <li><a class="dropdown-item" href="../articles/Further_details_ggrmsMD.html">Further details: ggrmsMD</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sjtingle/rmsMD/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create plots for RCS variables from an <code>rms</code> model</h1>
      <small class="dont-index">Source: <a href="https://github.com/sjtingle/rmsMD/blob/master/R/ggrmsMD.R" class="external-link"><code>R/ggrmsMD.R</code></a></small>
      <div class="d-none name"><code>ggrmsMD.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>ggrmsMD</code> function processes the output from models fitted using the <code>rms</code> package and produces one or more <code>ggplot2</code> objects visualising restricted cubic splines (RCS).
The function detects RCS terms in the model and plots them all, with a suitable y-axis selected based on the model type. This outputs a list of plots, or a multi-panel figure using the <code>combined</code> argument.
As outputs are <code>ggplot</code> objects they can easily be further customised by the user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ggrmsMD</span><span class="op">(</span></span>
<span>  <span class="va">modelfit</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  noeffline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  shade_inferior <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  combined <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlabs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  titles <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_y <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  log_y_breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlims <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_x_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  log_x_breaks <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lrm_prob <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  np <span class="op">=</span> <span class="fl">400</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-modelfit">modelfit<a class="anchor" aria-label="anchor" href="#arg-modelfit"></a></dt>
<dd><p>A model object from <code>ols</code>, <code>lrm</code>, or <code>cph</code> (from the <code>rms</code> package).</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The dataset used to fit the model.</p></dd>


<dt id="arg-noeffline">noeffline<a class="anchor" aria-label="anchor" href="#arg-noeffline"></a></dt>
<dd><p>Logical. If <code>TRUE</code> (default), adds a horizontal dashed line at 1 for odds/hazard ratio plots.</p></dd>


<dt id="arg-shade-inferior">shade_inferior<a class="anchor" aria-label="anchor" href="#arg-shade-inferior"></a></dt>
<dd><p>Character. Options are <code>"none"</code> (default), <code>"higher"</code>, or <code>"lower"</code>. Applies red/green shading above or below 1 on the y-axis to indicate worse/better outcomes.</p></dd>


<dt id="arg-combined">combined<a class="anchor" aria-label="anchor" href="#arg-combined"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, returns a single multi-panel plot using <code><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">cowplot::plot_grid()</a></code>.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Optional character. Override the default y-axis label.</p></dd>


<dt id="arg-xlabs">xlabs<a class="anchor" aria-label="anchor" href="#arg-xlabs"></a></dt>
<dd><p>A named list of x-axis labels for each variable. E.g., <code>list(age = "Age (years)", bmi = "BMI (kg/m²"))</code>.</p></dd>


<dt id="arg-titles">titles<a class="anchor" aria-label="anchor" href="#arg-titles"></a></dt>
<dd><p>A named list of plot titles for each variable.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>Numeric vector (length 2). y-axis limits applied to all plots. E.g., <code>c(0.5, 2)</code>.</p></dd>


<dt id="arg-log-y">log_y<a class="anchor" aria-label="anchor" href="#arg-log-y"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, y-axis is log10-transformed.</p></dd>


<dt id="arg-log-y-breaks">log_y_breaks<a class="anchor" aria-label="anchor" href="#arg-log-y-breaks"></a></dt>
<dd><p>Optional numeric vector specifying y-axis tick marks when <code>log_y = TRUE</code>. E.g., <code>c(0.25, 0.5, 1, 2, 4)</code>.</p></dd>


<dt id="arg-xlims">xlims<a class="anchor" aria-label="anchor" href="#arg-xlims"></a></dt>
<dd><p>A named list of x-axis limits per variable. E.g., <code>list(age = c(20, 80))</code>.</p></dd>


<dt id="arg-log-x-vars">log_x_vars<a class="anchor" aria-label="anchor" href="#arg-log-x-vars"></a></dt>
<dd><p>Character vector. Names of variables for which x-axis should be log10-transformed.</p></dd>


<dt id="arg-log-x-breaks">log_x_breaks<a class="anchor" aria-label="anchor" href="#arg-log-x-breaks"></a></dt>
<dd><p>A named list specifying x-axis tick marks for variables with log10-transformed x-axis.</p></dd>


<dt id="arg-lrm-prob">lrm_prob<a class="anchor" aria-label="anchor" href="#arg-lrm-prob"></a></dt>
<dd><p>Logical. If <code>TRUE</code> and model is <code>lrm</code>, plots predicted probabilities instead of odds ratios.</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>Character vector. Optional. Variables to plot. If <code>NULL</code> (default), all RCS variables in the model will be plotted.</p></dd>


<dt id="arg-np">np<a class="anchor" aria-label="anchor" href="#arg-np"></a></dt>
<dd><p>Integer. Number of points used to predict spline curves. Default is <code>400</code>. Consider increasing when using log-transformed x-axes.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">cowplot::plot_grid()</a></code> when <code>combined = TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ggplot</code> object (if one variable is plotted), a list of <code>ggplot</code> objects (if multiple variables), or a single combined <code>cowplot</code> plot if <code>combined = TRUE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># For details examples and plots please see the provided vignettes</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://scholar.google.com/citations?user=op7Z53gAAAAJ&amp;hl=en&amp;oi=ao" class="external-link">Samuel Tingle</a>, <a href="https://scholar.google.com/citations?user=X6Q-y3EAAAAJ&amp;hl=en&amp;oi=ao" class="external-link">Georgios Kourounis</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

